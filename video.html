<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Assistir - YouClone</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://unpkg.com/feather-icons"></script>
</head>
<body>
  <header class="header">
    <div class="header-left">
      <i data-feather="arrow-left" onclick="history.back()"></i>
      <div class="logo">YouClone</div>
    </div>
    <div class="header-right">
      <button id="darkModeToggle"><i data-feather="moon"></i></button>
    </div>
  </header>

  <main class="watch-container">
    <div class="watch-main">
      <div class="video-player">
        <iframe id="videoFrame" src="" frameborder="0" allowfullscreen></iframe>
      </div>

      <h1 id="videoTitle">Carregando...</h1>
      <div class="video-actions">
        <div class="views-date" id="viewsDate"></div>
        <div class="action-buttons">
          <button id="likeBtn"><i data-feather="thumbs-up"></i> <span id="likeCount">0</span></button>
          <button id="dislikeBtn"><i data-feather="thumbs-down"></i></button>
          <button id="shareBtn"><i data-feather="share-2"></i> Compartilhar</button>
        </div>
      </div>

      <div class="channel-info">
        <img id="channelAvatar" src="" alt="Canal">
        <div>
          <h3 id="channelName"></h3>
          <p id="subscribers"></p>
        </div>
        <button id="subscribeBtn">Inscrever-se</button>
      </div>

      <div class="video-description" id="videoDescription"></div>
    </div>

    <aside class="suggestions" id="suggestions"></aside>
  </main>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      feather.replace();

      // Carrega vídeo atual
      const video = JSON.parse(localStorage.getItem("currentVideo"));
      if (!video) return window.location.href = "index.html";

      // Preenche dados do vídeo
      document.getElementById("videoTitle").textContent = video.titulo;
      document.getElementById("viewsDate").textContent = `${video.views} • ${video.data}`;
      document.getElementById("channelAvatar").src = video.avatar;
      document.getElementById("channelName").textContent = video.canal;
      document.getElementById("videoDescription").textContent = video.descricao || "Sem descrição.";
      document.getElementById("videoFrame").src = video.videoUrl;

      // Sistema de likes
      let likes = 0;
      document.getElementById("likeBtn").addEventListener("click", () => {
        likes++;
        document.getElementById("likeCount").textContent = likes;
      });

      // Dark Mode
      document.getElementById("darkModeToggle").addEventListener("click", () => {
        document.body.classList.toggle("dark-mode");
        feather.replace();
      });
    });
  </script>
</body>
</html>